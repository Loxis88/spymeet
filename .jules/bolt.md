## 2024-05-23 - [Avoiding Layout Thrashing in MutationObserver]
**Learning:** Accessing `innerText` triggers a reflow (layout calculation) because it needs to know the visual style of the element (e.g., hidden text). In a `MutationObserver` callback observing `document.body`, this can happen hundreds of times per second, causing severe performance degradation ("Layout Thrashing") even if the text isn't relevant.
**Action:** Use `textContent` instead of `innerText` for initial text extraction. `textContent` accesses the raw DOM text without triggering a reflow. Only check `innerText` or `getBoundingClientRect` (which also forces reflow) *after* verifying the text length and content matches potential interest criteria. Also, filter by `tagName` to avoid processing non-text elements like `SCRIPT` or `SVG`.
